MongoDB shell version v4.2.7
connecting to: mongodb://127.0.0.1:27017/nbd?compressors=disabled&gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("6c81f7ae-7caf-4c88-a090-d1ee7f9ee298") }
MongoDB server version: 4.2.7
agregacje
{
	"_id" : {
		"currency" : "VEF"
	},
	"totlebBalance" : NumberDecimal("8333.28"),
	"avgBalance" : NumberDecimal("4166.64")
}
{
	"_id" : {
		"currency" : "MKD"
	},
	"totlebBalance" : NumberDecimal("3835.05"),
	"avgBalance" : NumberDecimal("3835.05")
}
{
	"_id" : {
		"currency" : "MAD"
	},
	"totlebBalance" : NumberDecimal("3818.85"),
	"avgBalance" : NumberDecimal("3818.85")
}
{
	"_id" : {
		"currency" : "EUR"
	},
	"totlebBalance" : NumberDecimal("245091.47"),
	"avgBalance" : NumberDecimal("4901.8294")
}
{
	"_id" : {
		"currency" : "CAD"
	},
	"totlebBalance" : NumberDecimal("58375.60"),
	"avgBalance" : NumberDecimal("5306.872727272727272727272727272727")
}
{
	"_id" : {
		"currency" : "AFN"
	},
	"totlebBalance" : NumberDecimal("16755.49"),
	"avgBalance" : NumberDecimal("5585.163333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "VUV"
	},
	"totlebBalance" : NumberDecimal("6418.27"),
	"avgBalance" : NumberDecimal("6418.27")
}
{
	"_id" : {
		"currency" : "MNT"
	},
	"totlebBalance" : NumberDecimal("21715.61"),
	"avgBalance" : NumberDecimal("5428.9025")
}
{
	"_id" : {
		"currency" : "TZS"
	},
	"totlebBalance" : NumberDecimal("7052.37"),
	"avgBalance" : NumberDecimal("3526.185")
}
{
	"_id" : {
		"currency" : "EGP"
	},
	"totlebBalance" : NumberDecimal("5579.3"),
	"avgBalance" : NumberDecimal("5579.3")
}
{
	"_id" : {
		"currency" : "THB"
	},
	"totlebBalance" : NumberDecimal("23021.96"),
	"avgBalance" : NumberDecimal("4604.392")
}
{
	"_id" : {
		"currency" : "MWK"
	},
	"totlebBalance" : NumberDecimal("3574.42"),
	"avgBalance" : NumberDecimal("3574.42")
}
{
	"_id" : {
		"currency" : "BGN"
	},
	"totlebBalance" : NumberDecimal("21200.88"),
	"avgBalance" : NumberDecimal("5300.22")
}
{
	"_id" : {
		"currency" : "MXN"
	},
	"totlebBalance" : NumberDecimal("50229.00"),
	"avgBalance" : NumberDecimal("5022.90")
}
{
	"_id" : {
		"currency" : "GBP"
	},
	"totlebBalance" : NumberDecimal("6149.19"),
	"avgBalance" : NumberDecimal("6149.19")
}
{
	"_id" : {
		"currency" : "AMD"
	},
	"totlebBalance" : NumberDecimal("24609.33"),
	"avgBalance" : NumberDecimal("4921.866")
}
{
	"_id" : {
		"currency" : "SRD"
	},
	"totlebBalance" : NumberDecimal("5286.68"),
	"avgBalance" : NumberDecimal("5286.68")
}
{
	"_id" : {
		"currency" : "JPY"
	},
	"totlebBalance" : NumberDecimal("60944.74"),
	"avgBalance" : NumberDecimal("5078.728333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "ZAR"
	},
	"totlebBalance" : NumberDecimal("11790.92"),
	"avgBalance" : NumberDecimal("3930.306666666666666666666666666667")
}
{
	"_id" : {
		"currency" : "KYD"
	},
	"totlebBalance" : NumberDecimal("3760.89"),
	"avgBalance" : NumberDecimal("3760.89")
}
{
	"_id" : {
		"currency" : "RUB"
	},
	"totlebBalance" : NumberDecimal("119749.15"),
	"avgBalance" : NumberDecimal("4989.547916666666666666666666666667")
}
{
	"_id" : {
		"currency" : "CDF"
	},
	"totlebBalance" : NumberDecimal("12228.8"),
	"avgBalance" : NumberDecimal("6114.4")
}
{
	"_id" : {
		"currency" : "ETB"
	},
	"totlebBalance" : NumberDecimal("5436.11"),
	"avgBalance" : NumberDecimal("5436.11")
}
{
	"_id" : {
		"currency" : "BWP"
	},
	"totlebBalance" : NumberDecimal("4076.29"),
	"avgBalance" : NumberDecimal("4076.29")
}
{
	"_id" : {
		"currency" : "RSD"
	},
	"totlebBalance" : NumberDecimal("4276.56"),
	"avgBalance" : NumberDecimal("4276.56")
}
{
	"_id" : {
		"currency" : "RWF"
	},
	"totlebBalance" : NumberDecimal("4632.88"),
	"avgBalance" : NumberDecimal("4632.88")
}
{
	"_id" : {
		"currency" : "IRR"
	},
	"totlebBalance" : NumberDecimal("26504.24"),
	"avgBalance" : NumberDecimal("4417.373333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "ZWL"
	},
	"totlebBalance" : NumberDecimal("5792.17"),
	"avgBalance" : NumberDecimal("5792.17")
}
{
	"_id" : {
		"currency" : "MYR"
	},
	"totlebBalance" : NumberDecimal("4781.12"),
	"avgBalance" : NumberDecimal("4781.12")
}
{
	"_id" : {
		"currency" : "UAH"
	},
	"totlebBalance" : NumberDecimal("40471.84"),
	"avgBalance" : NumberDecimal("5058.98")
}
{
	"_id" : {
		"currency" : "TJS"
	},
	"totlebBalance" : NumberDecimal("4087.71"),
	"avgBalance" : NumberDecimal("4087.71")
}
{
	"_id" : {
		"currency" : "MMK"
	},
	"totlebBalance" : NumberDecimal("4629.42"),
	"avgBalance" : NumberDecimal("4629.42")
}
{
	"_id" : {
		"currency" : "NZD"
	},
	"totlebBalance" : NumberDecimal("5328.46"),
	"avgBalance" : NumberDecimal("5328.46")
}
{
	"_id" : {
		"currency" : "VND"
	},
	"totlebBalance" : NumberDecimal("36160.26"),
	"avgBalance" : NumberDecimal("4520.0325")
}
{
	"_id" : {
		"currency" : "COP"
	},
	"totlebBalance" : NumberDecimal("19746.73"),
	"avgBalance" : NumberDecimal("4936.6825")
}
{
	"_id" : {
		"currency" : "IDR"
	},
	"totlebBalance" : NumberDecimal("323922.59"),
	"avgBalance" : NumberDecimal("4907.918030303030303030303030303030")
}
{
	"_id" : {
		"currency" : "CZK"
	},
	"totlebBalance" : NumberDecimal("37156.42"),
	"avgBalance" : NumberDecimal("4644.5525")
}
{
	"_id" : {
		"currency" : "LYD"
	},
	"totlebBalance" : NumberDecimal("8764.99"),
	"avgBalance" : NumberDecimal("4382.495")
}
{
	"_id" : {
		"currency" : "PLN"
	},
	"totlebBalance" : NumberDecimal("101804.90"),
	"avgBalance" : NumberDecimal("5090.245")
}
{
	"_id" : {
		"currency" : "IQD"
	},
	"totlebBalance" : NumberDecimal("4269.39"),
	"avgBalance" : NumberDecimal("4269.39")
}
{
	"_id" : {
		"currency" : "UZS"
	},
	"totlebBalance" : NumberDecimal("3573.03"),
	"avgBalance" : NumberDecimal("3573.03")
}
{
	"_id" : {
		"currency" : "PYG"
	},
	"totlebBalance" : NumberDecimal("4874.69"),
	"avgBalance" : NumberDecimal("4874.69")
}
{
	"_id" : {
		"currency" : "ARS"
	},
	"totlebBalance" : NumberDecimal("23242.00"),
	"avgBalance" : NumberDecimal("4648.40")
}
{
	"_id" : {
		"currency" : "USD"
	},
	"totlebBalance" : NumberDecimal("74680.98"),
	"avgBalance" : NumberDecimal("4978.732")
}
{
	"_id" : {
		"currency" : "NOK"
	},
	"totlebBalance" : NumberDecimal("4773.66"),
	"avgBalance" : NumberDecimal("4773.66")
}
{
	"_id" : {
		"currency" : "BOB"
	},
	"totlebBalance" : NumberDecimal("5263.3"),
	"avgBalance" : NumberDecimal("5263.3")
}
{
	"_id" : {
		"currency" : "GTQ"
	},
	"totlebBalance" : NumberDecimal("5806.3"),
	"avgBalance" : NumberDecimal("5806.3")
}
{
	"_id" : {
		"currency" : "ALL"
	},
	"totlebBalance" : NumberDecimal("3325.48"),
	"avgBalance" : NumberDecimal("3325.48")
}
{
	"_id" : {
		"currency" : "ISK"
	},
	"totlebBalance" : NumberDecimal("4316.41"),
	"avgBalance" : NumberDecimal("4316.41")
}
{
	"_id" : {
		"currency" : "YER"
	},
	"totlebBalance" : NumberDecimal("13712.50"),
	"avgBalance" : NumberDecimal("4570.833333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "BYR"
	},
	"totlebBalance" : NumberDecimal("5095.79"),
	"avgBalance" : NumberDecimal("5095.79")
}
{
	"_id" : {
		"currency" : "NGN"
	},
	"totlebBalance" : NumberDecimal("24946.23"),
	"avgBalance" : NumberDecimal("4157.705")
}
{
	"_id" : {
		"currency" : "BRL"
	},
	"totlebBalance" : NumberDecimal("49632.02"),
	"avgBalance" : NumberDecimal("4512.001818181818181818181818181818")
}
{
	"_id" : {
		"currency" : "MGA"
	},
	"totlebBalance" : NumberDecimal("14560.99"),
	"avgBalance" : NumberDecimal("4853.663333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "XOF"
	},
	"totlebBalance" : NumberDecimal("17882.05"),
	"avgBalance" : NumberDecimal("5960.683333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "SEK"
	},
	"totlebBalance" : NumberDecimal("70840.19"),
	"avgBalance" : NumberDecimal("5060.013571428571428571428571428571")
}
{
	"_id" : {
		"currency" : "NIO"
	},
	"totlebBalance" : NumberDecimal("9971.28"),
	"avgBalance" : NumberDecimal("4985.64")
}
{
	"_id" : {
		"currency" : "KZT"
	},
	"totlebBalance" : NumberDecimal("3788.95"),
	"avgBalance" : NumberDecimal("3788.95")
}
{
	"_id" : {
		"currency" : "NPR"
	},
	"totlebBalance" : NumberDecimal("5792.26"),
	"avgBalance" : NumberDecimal("5792.26")
}
{
	"_id" : {
		"currency" : "CNY"
	},
	"totlebBalance" : NumberDecimal("470700.38"),
	"avgBalance" : NumberDecimal("4954.740842105263157894736842105263")
}
{
	"_id" : {
		"currency" : "CLP"
	},
	"totlebBalance" : NumberDecimal("21008.95"),
	"avgBalance" : NumberDecimal("5252.2375")
}
{
	"_id" : {
		"currency" : "XPF"
	},
	"totlebBalance" : NumberDecimal("4759.07"),
	"avgBalance" : NumberDecimal("4759.07")
}
{
	"_id" : {
		"currency" : "CUP"
	},
	"totlebBalance" : NumberDecimal("15017.34"),
	"avgBalance" : NumberDecimal("5005.78")
}
{
	"_id" : {
		"currency" : "ZMW"
	},
	"totlebBalance" : NumberDecimal("5569.56"),
	"avgBalance" : NumberDecimal("5569.56")
}
{
	"_id" : {
		"currency" : "PHP"
	},
	"totlebBalance" : NumberDecimal("118606.28"),
	"avgBalance" : NumberDecimal("4941.928333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "ILS"
	},
	"totlebBalance" : NumberDecimal("16295.49"),
	"avgBalance" : NumberDecimal("5431.83")
}
{
	"_id" : {
		"currency" : "XAF"
	},
	"totlebBalance" : NumberDecimal("14094.66"),
	"avgBalance" : NumberDecimal("4698.22")
}
{
	"_id" : {
		"currency" : "KRW"
	},
	"totlebBalance" : NumberDecimal("13379.82"),
	"avgBalance" : NumberDecimal("6689.91")
}
{
	"_id" : {
		"currency" : "HRK"
	},
	"totlebBalance" : NumberDecimal("24354.82"),
	"avgBalance" : NumberDecimal("4870.964")
}
{
	"_id" : {
		"currency" : "PEN"
	},
	"totlebBalance" : NumberDecimal("18644.94"),
	"avgBalance" : NumberDecimal("4661.235")
}
{
	"_id" : {
		"currency" : "DOP"
	},
	"totlebBalance" : NumberDecimal("20674.74"),
	"avgBalance" : NumberDecimal("5168.685")
}
{
	"_id" : {
		"currency" : "HNL"
	},
	"totlebBalance" : NumberDecimal("16514.59"),
	"avgBalance" : NumberDecimal("5504.863333333333333333333333333333")
}
{
	"_id" : {
		"currency" : "PKR"
	},
	"totlebBalance" : NumberDecimal("18938.00"),
	"avgBalance" : NumberDecimal("4734.50")
}
map reduce
{
	"results" : [
		{
			"_id" : "AFN",
			"value" : {
				"total_balance" : 16755.489999999998,
				"average" : 5585.163333333333
			}
		},
		{
			"_id" : "ALL",
			"value" : {
				"total_balance" : 3325.48,
				"average" : 3325.48
			}
		},
		{
			"_id" : "AMD",
			"value" : {
				"total_balance" : 24609.329999999998,
				"average" : 4921.866
			}
		},
		{
			"_id" : "ARS",
			"value" : {
				"total_balance" : 23242,
				"average" : 4648.4
			}
		},
		{
			"_id" : "BGN",
			"value" : {
				"total_balance" : 21200.879999999997,
				"average" : 5300.219999999999
			}
		},
		{
			"_id" : "BOB",
			"value" : {
				"total_balance" : 5263.3,
				"average" : 5263.3
			}
		},
		{
			"_id" : "BRL",
			"value" : {
				"total_balance" : 49632.02,
				"average" : 4512.001818181818
			}
		},
		{
			"_id" : "BWP",
			"value" : {
				"total_balance" : 4076.29,
				"average" : 4076.29
			}
		},
		{
			"_id" : "BYR",
			"value" : {
				"total_balance" : 5095.79,
				"average" : 5095.79
			}
		},
		{
			"_id" : "CAD",
			"value" : {
				"total_balance" : 58375.600000000006,
				"average" : 5306.872727272727
			}
		},
		{
			"_id" : "CDF",
			"value" : {
				"total_balance" : 12228.8,
				"average" : 6114.4
			}
		},
		{
			"_id" : "CLP",
			"value" : {
				"total_balance" : 21008.95,
				"average" : 5252.2375
			}
		},
		{
			"_id" : "CNY",
			"value" : {
				"total_balance" : 470700.3800000001,
				"average" : 4954.740842105264
			}
		},
		{
			"_id" : "COP",
			"value" : {
				"total_balance" : 19746.73,
				"average" : 4936.6825
			}
		},
		{
			"_id" : "CUP",
			"value" : {
				"total_balance" : 15017.34,
				"average" : 5005.78
			}
		},
		{
			"_id" : "CZK",
			"value" : {
				"total_balance" : 37156.42,
				"average" : 4644.5525
			}
		},
		{
			"_id" : "DOP",
			"value" : {
				"total_balance" : 20674.739999999998,
				"average" : 5168.6849999999995
			}
		},
		{
			"_id" : "EGP",
			"value" : {
				"total_balance" : 5579.3,
				"average" : 5579.3
			}
		},
		{
			"_id" : "ETB",
			"value" : {
				"total_balance" : 5436.11,
				"average" : 5436.11
			}
		},
		{
			"_id" : "EUR",
			"value" : {
				"total_balance" : 245091.47,
				"average" : 4901.8294
			}
		},
		{
			"_id" : "GBP",
			"value" : {
				"total_balance" : 6149.19,
				"average" : 6149.19
			}
		},
		{
			"_id" : "GTQ",
			"value" : {
				"total_balance" : 5806.3,
				"average" : 5806.3
			}
		},
		{
			"_id" : "HNL",
			"value" : {
				"total_balance" : 16514.59,
				"average" : 5504.863333333334
			}
		},
		{
			"_id" : "HRK",
			"value" : {
				"total_balance" : 24354.82,
				"average" : 4870.964
			}
		},
		{
			"_id" : "IDR",
			"value" : {
				"total_balance" : 323922.59,
				"average" : 4907.918030303031
			}
		},
		{
			"_id" : "ILS",
			"value" : {
				"total_balance" : 16295.49,
				"average" : 5431.83
			}
		},
		{
			"_id" : "IQD",
			"value" : {
				"total_balance" : 4269.39,
				"average" : 4269.39
			}
		},
		{
			"_id" : "IRR",
			"value" : {
				"total_balance" : 26504.239999999998,
				"average" : 4417.373333333333
			}
		},
		{
			"_id" : "ISK",
			"value" : {
				"total_balance" : 4316.41,
				"average" : 4316.41
			}
		},
		{
			"_id" : "JPY",
			"value" : {
				"total_balance" : 60944.74,
				"average" : 5078.7283333333335
			}
		},
		{
			"_id" : "KRW",
			"value" : {
				"total_balance" : 13379.82,
				"average" : 6689.91
			}
		},
		{
			"_id" : "KYD",
			"value" : {
				"total_balance" : 3760.89,
				"average" : 3760.89
			}
		},
		{
			"_id" : "KZT",
			"value" : {
				"total_balance" : 3788.95,
				"average" : 3788.95
			}
		},
		{
			"_id" : "LYD",
			"value" : {
				"total_balance" : 8764.99,
				"average" : 4382.495
			}
		},
		{
			"_id" : "MAD",
			"value" : {
				"total_balance" : 3818.85,
				"average" : 3818.85
			}
		},
		{
			"_id" : "MGA",
			"value" : {
				"total_balance" : 14560.99,
				"average" : 4853.663333333333
			}
		},
		{
			"_id" : "MKD",
			"value" : {
				"total_balance" : 3835.05,
				"average" : 3835.05
			}
		},
		{
			"_id" : "MMK",
			"value" : {
				"total_balance" : 4629.42,
				"average" : 4629.42
			}
		},
		{
			"_id" : "MNT",
			"value" : {
				"total_balance" : 21715.61,
				"average" : 5428.9025
			}
		},
		{
			"_id" : "MWK",
			"value" : {
				"total_balance" : 3574.42,
				"average" : 3574.42
			}
		},
		{
			"_id" : "MXN",
			"value" : {
				"total_balance" : 50228.99999999999,
				"average" : 5022.9
			}
		},
		{
			"_id" : "MYR",
			"value" : {
				"total_balance" : 4781.12,
				"average" : 4781.12
			}
		},
		{
			"_id" : "NGN",
			"value" : {
				"total_balance" : 24946.230000000003,
				"average" : 4157.705000000001
			}
		},
		{
			"_id" : "NIO",
			"value" : {
				"total_balance" : 9971.28,
				"average" : 4985.64
			}
		},
		{
			"_id" : "NOK",
			"value" : {
				"total_balance" : 4773.66,
				"average" : 4773.66
			}
		},
		{
			"_id" : "NPR",
			"value" : {
				"total_balance" : 5792.26,
				"average" : 5792.26
			}
		},
		{
			"_id" : "NZD",
			"value" : {
				"total_balance" : 5328.46,
				"average" : 5328.46
			}
		},
		{
			"_id" : "PEN",
			"value" : {
				"total_balance" : 18644.94,
				"average" : 4661.235
			}
		},
		{
			"_id" : "PHP",
			"value" : {
				"total_balance" : 118606.28,
				"average" : 4941.928333333333
			}
		},
		{
			"_id" : "PKR",
			"value" : {
				"total_balance" : 18938,
				"average" : 4734.5
			}
		},
		{
			"_id" : "PLN",
			"value" : {
				"total_balance" : 101804.90000000001,
				"average" : 5090.245000000001
			}
		},
		{
			"_id" : "PYG",
			"value" : {
				"total_balance" : 4874.69,
				"average" : 4874.69
			}
		},
		{
			"_id" : "RSD",
			"value" : {
				"total_balance" : 4276.56,
				"average" : 4276.56
			}
		},
		{
			"_id" : "RUB",
			"value" : {
				"total_balance" : 119749.15000000001,
				"average" : 4989.547916666667
			}
		},
		{
			"_id" : "RWF",
			"value" : {
				"total_balance" : 4632.88,
				"average" : 4632.88
			}
		},
		{
			"_id" : "SEK",
			"value" : {
				"total_balance" : 70840.19,
				"average" : 5060.013571428572
			}
		},
		{
			"_id" : "SRD",
			"value" : {
				"total_balance" : 5286.68,
				"average" : 5286.68
			}
		},
		{
			"_id" : "THB",
			"value" : {
				"total_balance" : 23021.96,
				"average" : 4604.392
			}
		},
		{
			"_id" : "TJS",
			"value" : {
				"total_balance" : 4087.71,
				"average" : 4087.71
			}
		},
		{
			"_id" : "TZS",
			"value" : {
				"total_balance" : 7052.370000000001,
				"average" : 3526.1850000000004
			}
		},
		{
			"_id" : "UAH",
			"value" : {
				"total_balance" : 40471.84,
				"average" : 5058.98
			}
		},
		{
			"_id" : "USD",
			"value" : {
				"total_balance" : 74680.98,
				"average" : 4978.732
			}
		},
		{
			"_id" : "UZS",
			"value" : {
				"total_balance" : 3573.03,
				"average" : 3573.03
			}
		},
		{
			"_id" : "VEF",
			"value" : {
				"total_balance" : 8333.28,
				"average" : 4166.64
			}
		},
		{
			"_id" : "VND",
			"value" : {
				"total_balance" : 36160.259999999995,
				"average" : 4520.032499999999
			}
		},
		{
			"_id" : "VUV",
			"value" : {
				"total_balance" : 6418.27,
				"average" : 6418.27
			}
		},
		{
			"_id" : "XAF",
			"value" : {
				"total_balance" : 14094.66,
				"average" : 4698.22
			}
		},
		{
			"_id" : "XOF",
			"value" : {
				"total_balance" : 17882.05,
				"average" : 5960.683333333333
			}
		},
		{
			"_id" : "XPF",
			"value" : {
				"total_balance" : 4759.07,
				"average" : 4759.07
			}
		},
		{
			"_id" : "YER",
			"value" : {
				"total_balance" : 13712.5,
				"average" : 4570.833333333333
			}
		},
		{
			"_id" : "ZAR",
			"value" : {
				"total_balance" : 11790.92,
				"average" : 3930.306666666667
			}
		},
		{
			"_id" : "ZMW",
			"value" : {
				"total_balance" : 5569.56,
				"average" : 5569.56
			}
		},
		{
			"_id" : "ZWL",
			"value" : {
				"total_balance" : 5792.17,
				"average" : 5792.17
			}
		}
	],
	"timeMillis" : 54,
	"counts" : {
		"input" : 4927,
		"emit" : 505,
		"reduce" : 43,
		"output" : 73
	},
	"ok" : 1
}
